## **ğŸ“Œ æ–¹æ¡ˆï¼šå‰ç«¯ Nginx éƒ¨ç½²ï¼Œåç«¯ç‹¬ç«‹è¿è¡Œ**

### **1ï¸âƒ£ ç›®å½•ç»“æ„**

bash

å¤åˆ¶ç¼–è¾‘

`/your-project  â”œâ”€â”€ front-end/               # ä½ çš„å‰ç«¯é¡¹ç›®ï¼ˆVue/Reactï¼‰  â”‚   â”œâ”€â”€ dist/                # æ‰“åŒ…åé™æ€æ–‡ä»¶  â”‚   â”œâ”€â”€ Dockerfile           # æ„å»ºå‰ç«¯çš„ Dockerfile  â”‚   â”œâ”€â”€ nginx.conf           # Nginx é…ç½®  â”œâ”€â”€ back-end/                # ä½ çš„åç«¯ Spring Boot é¡¹ç›®  â”‚   â”œâ”€â”€ target/app.jar       # Spring Boot ç”Ÿæˆçš„ JAR`

---

### **2ï¸âƒ£ å‰ç«¯çš„ Dockerfile**

å‰ç«¯ï¼ˆVue/Reactï¼‰æ‰“åŒ…åæ”¾å…¥ Nginxï¼š

dockerfile

å¤åˆ¶ç¼–è¾‘

`# é€‰æ‹© Nginx ä½œä¸ºåŸºç¡€é•œåƒ FROM nginx:latest  # åˆ é™¤é»˜è®¤é…ç½® RUN rm /etc/nginx/conf.d/default.conf  # å¤åˆ¶è‡ªå®šä¹‰ Nginx é…ç½® COPY nginx.conf /etc/nginx/conf.d/default.conf  # å¤åˆ¶å‰ç«¯æ‰“åŒ…çš„ dist/ æ–‡ä»¶å¤¹ COPY dist/ /usr/share/nginx/html/  # æš´éœ² 80 ç«¯å£ EXPOSE 80  # å¯åŠ¨ Nginx CMD ["nginx", "-g", "daemon off;"]`

---

### **3ï¸âƒ£ Nginx é…ç½® (`nginx.conf`)**

Nginx ä½œä¸ºå‰ç«¯æœåŠ¡å™¨ï¼ŒåŒæ—¶ä»£ç†åç«¯è¯·æ±‚ï¼š

nginx

å¤åˆ¶ç¼–è¾‘

`server {     listen 80;     server_name yourdomain.com;      # è®¾ç½®å‰ç«¯é™æ€æ–‡ä»¶è·¯å¾„     root /usr/share/nginx/html;     index index.html;          # å¤„ç† Vue/React å‰ç«¯çš„è·¯ç”±     location / {         try_files $uri /index.html;     }      # ä»£ç†åç«¯ API è¯·æ±‚     location /api/ {         proxy_pass http://your-backend-ip:port/;         proxy_set_header Host $host;         proxy_set_header X-Real-IP $remote_addr;         proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;     } }`

**è§£é‡Šï¼š**

- **é™æ€èµ„æº**ï¼š`root /usr/share/nginx/html;`
- **SPA è·¯ç”±**ï¼š`try_files $uri /index.html;`
- **ä»£ç†åç«¯ API**ï¼šæ‰€æœ‰ `/api/` è¯·æ±‚éƒ½ä¼šè½¬å‘åˆ° **Spring Boot åç«¯**

---

### **4ï¸âƒ£ æ„å»º & è¿è¡Œ**

#### **ï¼ˆ1ï¼‰æ‰“åŒ…å‰ç«¯å¹¶æ„å»º Docker é•œåƒ**

bash

å¤åˆ¶ç¼–è¾‘

`cd front-end npm run build  # æˆ– yarn build docker build -t my-blog-frontend .`

#### **ï¼ˆ2ï¼‰è¿è¡Œå‰ç«¯å®¹å™¨**

bash

å¤åˆ¶ç¼–è¾‘

`docker run -d --name blog-frontend -p 80:80 my-blog-frontend`

#### **ï¼ˆ3ï¼‰åç«¯ Spring Boot è¿è¡Œ**

bash

å¤åˆ¶ç¼–è¾‘

`cd back-end java -jar target/app.jar`

ï¼ˆè¿™é‡Œä½ å¯ä»¥è‡ªå·±é…ç½®åç«¯çš„ `server.port`ï¼Œæ¯”å¦‚ `8080`ï¼‰